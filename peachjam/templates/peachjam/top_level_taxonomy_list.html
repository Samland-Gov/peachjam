{% extends "peachjam/layouts/main.html" %}
{% load i18n %}

{% block title %} {% trans 'Taxonomy' %} {% endblock %}

{% block page-content %}
  <section class="container pt-4 pb-5">
    <h1 class="mb-4">{% trans 'Taxonomies' %}</h1>

    <div>
      {% if taxonomies|length > 0 %}
        <div class="row">
          {% for taxonomy in taxonomies %}
            {% if taxonomy.is_root and taxonomy.get_children|length > 0%}
              <div class="col-12 col-lg-6 mb-4">
                <div class="card">
                  <div class="card-header">
                    {{ taxonomy }}
                  </div>
                    <ul class="list-group list-group-flush">
                      {% for child in taxonomy.get_children %}
                        <li class="list-group-item">
                          <a href="{% url 'taxonomy_detail' taxonomy.slug child.slug %}">
                            {{ child }}
                          </a>
                        </li>
                      {% endfor %}
                    </ul>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% else %}
        <div> {% trans 'No taxonomies found' %} </div>
      {% endif %}
    </div>

  </section>
{% endblock %}
